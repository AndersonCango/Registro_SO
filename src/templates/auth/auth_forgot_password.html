{% extends './base.html' %}

{% block title %}Login - Asistance{% endblock %}

{% block customCSS %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/auth_forgot_password.css') }}">
{% endblock %}

{% block body %}

<div>
    <main class="text-center form-signin w-100 m-auto">
    <form
    id="formAuthentication"
    class="mb-3"
    action=""
    method="POST"
    autocomplete="off">

      <img class="mb-2" src="{{ url_for('static', filename ='img/logo.png') }}" alt="" width="140" height="140">
      <h3 class="h4 mb-4 fw-normal">Olvidaste tu contraseña</h3>
      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

      {% with messages = get_flashed_messages() %}
      {% if messages %}
      <br />
      {% for message in messages %}
      <div class="alert" id="alert" class="custom-alert">
          <strong>{{ message }}</strong>
      </div>
      {% endfor %}
      {% endif %}
      {% endwith %}

      <div class="form-floating mb-2">
        <input type="text" name="dni" class="form-control" id="dni" placeholder="text" required>
        <label for="floatingPassword">Credencial Personal</label>
        <div class="invalid-feedback">
          Es un campo obligatorio.
        </div>
      </div>    
      <!-- Password -->
      <div class="form-floating mb-2">
        <input type="password" name="pass_user" class="form-control" id="floatingPassword" placeholder="Password" required>
        <label for="floatingPassword">Nueva contraseña</label>
        <div class="invalid-feedback">
          Es un campo obligatorio.
        </div>
      </div>
      <!-- Confirm your password -->
      <div class="form-floating mb-2">
        <input type="password" name="con_pass_user" class="form-control" id="floatingPassword" placeholder="Password" required>
        <label for="floatingPassword">Confirmar nueva contraseña</label>
        <div class="invalid-feedback">
          Es un campo obligatorio.
        </div>
      </div>

      <button class="btn btn-primary w-100 py-2" type="submit">Guardar cambios</button>

      <p class="mt-5 mb-3 text-body-secondary">&copy; 2024</p>
    </form>
  </main>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Muestra el mensaje y lo oculta después de 3 segundos
    var customAlert = document.getElementById('alert');
    customAlert.style.display = 'block'; // Muestra el mensaje
    setTimeout(function() {
      customAlert.style.display = 'none'; // Oculta el mensaje después de 3 segundos
    }, 1500);
  });
</script>

  

{% endblock %}